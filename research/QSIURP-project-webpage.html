<!DOCTYPE HTML>

<head>
	<title>Software Defined Networking in Wireless Networks</title>
	<link rel="stylesheet" href="QSIURP-project-webpage.css">
</head>

<body>

	<h1 align = center>Software Defined Networking in Wireless Networks</h1>

	<h2>Project Elements:</h2>
	<ul>
		<li type = "circle">Install SDN Switch functionality on a Raspberry Pi</li>
	</ul>

	<h3 align = center>Installing OpenFlow via OpenWrt (Barrier Breaker) on a Raspberry Pi</h3>
	<h4>Installing OpenWrt Barrier Breaker</h4>
		<ul>
			<li>Installing Dependencies</li>
				<tt>apt-get install subversion build-essential libncurses5-dev zlib1g-dev gawk git ccache gettext libssl-dev xsltproc</tt><br>
			<li>Download OpenWrt</li>
				<tt>mkdir ~/openwrt</tt><br>
				<tt>cd ~/openwrt</tt><br>
				<tt>svn co -r 36088 svn://svn.openwrt.org/openwrt/branches/barrier_breaker</tt><br>
				<tt>cd attitude_adjustment</tt><br>
				<tt>./scripts/feeds update -a</tt><br>
			<li>Download the .config file for bcrm2708 (R-Pi chipset)</li>
				<tt>cd ~/openwrt/barrier_breaker</tt><br>
				<tt>rm .config</tt><br>
				<tt>wget "http://downloads.openwrt.org/barrier_breaker/14.07/brcm2708/generic/config.brcm2708_generic"</tt><br>
				<tt>ln -s config.bcrm2708_generic .config</tt><br>
			<li>Open the .config in an editor and set <b>CONFIG_SDK=n</b> and <b>CONFIG_MAKE_TOOLCHAIN=n</b></li>
			<li> Download the <a href="www">perl scrip</a> into the barrier breaker folder and run it </li>
				<tt>./config_install_feeds.pl</tt><br>
			<p>[OPTIONAL] Since the default settings install everything in the openWrt build it takes very long to compile so the openWrt wiki suggests that unnecessary packages should be disabled.</p>
			<li>Download the <a href = "">perl script</a> and run it</li>
				<tt>./config_feeds_disable_packages.pl > ./.config.new</tt><br>
				<tt>mv ./.config.new ./.config</tt><br>
			<p>By now we are ready to compile a stock openWrt build. Now we need to incorporate openFlow into it</p>
			<p>Since the openFlow packages are not included by default in the openWrt branch that we downladed we must download them separately and place them in the packages folder of openWrt.
		</ul>
	<h5>Including openFlow in the OpenWrt build</h5>
		<ul>
			<li>Download openFlow source for openWrt</li>
				<tt>cd ~/openwrt</tt><br>
				<tt>git clone https://github.com/CPqD/openflow-openwrt.git</tt><br>
			<li>Symlink the openFlow package in to the openWrt packages folder</li>
				<tt>cd ~/openwrt/barrier_breaker/package/</tt><br>
				<tt>ln -s ~/openwrt/openflow-openwrt/openflow-1.3/</tt><br>
				<tt>cd ~/openwrt/barrier_breaker/</tt><br>
				<tt>ln -s ~/openwrt/openflow-openwrt/openflow-1.3/files</tt><br>
			<li>Configure the openWrt build with openFlow</li>
				<tt>cd ~/openwrt/barrier_breaker</tt>
				<tt>make menuconfig arc=ARM</tt>
				<p>enable the following</p>
				<ul>
					<li>Network > openFlow</li>
					<li>[*]Network > tc</li>
					<li>Kernel Modules > network support > kmod-tun</li>
				</ul>
				<p>save and exit</p>
				<p>[*]If TC package not found under network select kmod-sched-core and kmod-sched under kernel modules > network support</p>
			<li>Do <tt>make kerner_menuconfig arc=ARM</tt></li>
			<li>Enable Hierarchichal Token Bucket under Queuing/Scheduling > Networking Support > Networking Options</li>
			<li>Make the fnal build<br>
				<tt>make arc=ARM V=s</tt>
			</li>
		</ul>
	<p>If the build is successful you sould be able to find a .img in openwrt/barrier_breaker/bin/bcrm2708. For a guide on how to prep and upload an image to a Raspberry Pi sd card please use google.</p>

</body>